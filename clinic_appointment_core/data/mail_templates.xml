<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- ======================== -->
        <!-- Email Templates -->
        <!-- ======================== -->

        <!-- Appointment Confirmation Template -->
        <record id="email_template_appointment_confirmation" model="mail.template">
            <field name="name">Appointment: Confirmation</field>
            <field name="model_id" ref="model_clinic_appointment"/>
            <field name="email_from">${object.company_id.email or object.env.user.email}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="subject">Appointment Confirmed - ${object.appointment_number}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.patient_id.name},</p>
    <p>Your appointment has been confirmed.</p>
    <table cellpadding="8" cellspacing="0" border="0" style="border-collapse: collapse; border: 1px solid #d0d0d0;">
        <tr style="background-color: #f5f5f5;">
            <td style="padding: 8px; font-weight: bold;">Appointment Details</td>
        </tr>
        <tr>
            <td style="padding: 8px;">
                <strong>Appointment Number:</strong> ${object.appointment_number}<br/>
                <strong>Date:</strong> ${object.start.strftime('%Y-%m-%d %H:%M') if object.start else 'N/A'}<br/>
                <strong>Type:</strong> ${object.appointment_type_id.name if object.appointment_type_id else 'N/A'}<br/>
                <strong>Staff:</strong> ${object.staff_id.name if object.staff_id else 'N/A'}<br/>
                <strong>Status:</strong> ${object.state}
            </td>
        </tr>
    </table>
    <p style="margin-top: 16px;">
        If you need to reschedule or cancel, please contact us as soon as possible.
    </p>
    <p>Thank you,<br/>${object.company_id.name}</p>
</div>
            </field>
            <field name="lang">en_US</field>
        </record>

        <!-- Appointment Cancellation Template -->
        <record id="email_template_appointment_cancellation" model="mail.template">
            <field name="name">Appointment: Cancellation</field>
            <field name="model_id" ref="model_clinic_appointment"/>
            <field name="email_from">${object.company_id.email or object.env.user.email}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="subject">Appointment Cancelled - ${object.appointment_number}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.patient_id.name},</p>
    <p>Your appointment has been cancelled.</p>
    <table cellpadding="8" cellspacing="0" border="0" style="border-collapse: collapse; border: 1px solid #d0d0d0;">
        <tr style="background-color: #f5f5f5;">
            <td style="padding: 8px; font-weight: bold;">Appointment Details</td>
        </tr>
        <tr>
            <td style="padding: 8px;">
                <strong>Appointment Number:</strong> ${object.appointment_number}<br/>
                <strong>Original Date:</strong> ${object.start.strftime('%Y-%m-%d %H:%M') if object.start else 'N/A'}<br/>
                <strong>Type:</strong> ${object.appointment_type_id.name if object.appointment_type_id else 'N/A'}
            </td>
        </tr>
    </table>
    <p style="margin-top: 16px;">
        If you would like to reschedule, please contact us.
    </p>
    <p>Thank you,<br/>${object.company_id.name}</p>
</div>
            </field>
            <field name="lang">en_US</field>
        </record>

        <!-- Appointment Reminder Template -->
        <record id="email_template_appointment_reminder" model="mail.template">
            <field name="name">Appointment: Reminder</field>
            <field name="model_id" ref="model_clinic_appointment"/>
            <field name="email_from">${object.company_id.email or object.env.user.email}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="subject">Appointment Reminder - ${object.appointment_number}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.patient_id.name},</p>
    <p>This is a reminder about your upcoming appointment.</p>
    <table cellpadding="8" cellspacing="0" border="0" style="border-collapse: collapse; border: 1px solid #d0d0d0;">
        <tr style="background-color: #f5f5f5;">
            <td style="padding: 8px; font-weight: bold;">Appointment Details</td>
        </tr>
        <tr>
            <td style="padding: 8px;">
                <strong>Appointment Number:</strong> ${object.appointment_number}<br/>
                <strong>Date & Time:</strong> ${object.start.strftime('%Y-%m-%d %H:%M') if object.start else 'N/A'}<br/>
                <strong>Type:</strong> ${object.appointment_type_id.name if object.appointment_type_id else 'N/A'}<br/>
                <strong>Staff:</strong> ${object.staff_id.name if object.staff_id else 'N/A'}
            </td>
        </tr>
    </table>
    <p style="margin-top: 16px;">
        Please arrive a few minutes early. If you cannot make it, please let us know as soon as possible.
    </p>
    <p>Thank you,<br/>${object.company_id.name}</p>
</div>
            </field>
            <field name="lang">en_US</field>
        </record>

    </data>
</odoo>
